schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/classifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 9546aa35292612fba3ce92e3f8f884f4
      size: 600
    - path: src/classifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 26a220c5bc8e42a23345febab622d1e8
      size: 967
    outs:
    - path: artifacts/data_ingestion/Kidney-CT-Scan-data
      hash: md5
      md5: 0f2af71d790381ce4b3f7e357823df14.dir
      size: 336424742
      nfiles: 2682
  prepare_base_model:
    cmd: python src/classifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 9546aa35292612fba3ce92e3f8f884f4
      size: 600
    - path: src/classifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 8f047397fc0cbe15e45d49ae082e3fb2
      size: 1008
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.02
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 6904e09129ff504180a6c9ab0992c6a8.dir
      size: 118054560
      nfiles: 2
  model_training:
    cmd: python src/classifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/Kidney-CT-Scan-data
      hash: md5
      md5: 0f2af71d790381ce4b3f7e357823df14.dir
      size: 336424742
      nfiles: 2682
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 6904e09129ff504180a6c9ab0992c6a8.dir
      size: 118054560
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 9546aa35292612fba3ce92e3f8f884f4
      size: 600
    - path: src/classifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: 75986f0499f8ad4652fb96d1a720f87b
      size: 937
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 10
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 0d9ffee095b3fcae48cfaa5eb71a7afd
      size: 59337520
  evaluation:
    cmd: python src/classifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Kidney-CT-Scan-data
      hash: md5
      md5: 0f2af71d790381ce4b3f7e357823df14.dir
      size: 336424742
      nfiles: 2682
    - path: artifacts/training/model.h5
      hash: md5
      md5: 0d9ffee095b3fcae48cfaa5eb71a7afd
      size: 59337520
    - path: config/config.yaml
      hash: md5
      md5: 9546aa35292612fba3ce92e3f8f884f4
      size: 600
    - path: src/classifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: ee7990f9b3a17e6e00120e6e12b0e2de
      size: 930
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/score.json
      hash: md5
      md5: 1c9fdf3c9b3b8f49190c5ca7241296bc
      size: 73
